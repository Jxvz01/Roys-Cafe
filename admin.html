<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Roy's Cafe — Admin Panel</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="css/admin.css">
</head>

<body>

    <!-- LOGIN SCREEN -->
    <div id="login-screen" class="login-screen">
        <div class="login-card">
            <div class="login-brand">
                <div class="login-logo-text">ROY'S</div>
                <div class="login-logo-sub">CAFE ADMIN</div>
            </div>
            <div id="login-error" class="login-error hidden">Incorrect password. Try again.</div>
            <div class="form-group">
                <label>Password</label>
                <div class="input-wrap">
                    <i class="fas fa-lock"></i>
                    <input type="password" id="login-pass" placeholder="Enter admin password"
                        autocomplete="current-password">
                    <button type="button" id="toggle-pass" class="toggle-pass"><i class="fas fa-eye"></i></button>
                </div>
            </div>
            <button id="login-btn" class="btn-admin-primary full-width">
                <i class="fas fa-sign-in-alt"></i> Sign In
            </button>
            <p class="login-hint">Default password: <strong>admin123</strong></p>
        </div>
    </div>

    <!-- ADMIN APP -->
    <div id="admin-app" class="admin-app hidden">

        <!-- SIDEBAR -->
        <aside class="admin-sidebar">
            <div class="sidebar-brand">
                <span class="brand-main">ROY'S</span>
                <span class="brand-sub">ADMIN</span>
            </div>
            <nav class="sidebar-nav">
                <a href="#" class="nav-item active" data-section="dashboard">
                    <i class="fas fa-chart-pie"></i> Dashboard
                </a>
                <a href="#" class="nav-item" data-section="menu">
                    <i class="fas fa-utensils"></i> Menu
                </a>
                <a href="#" class="nav-item" data-section="gallery">
                    <i class="fas fa-images"></i> Gallery
                </a>
            </nav>
            <div class="sidebar-footer">
                <a href="index.html" target="_blank" class="sidebar-link">
                    <i class="fas fa-external-link-alt"></i> View Site
                </a>
                <button id="logout-btn" class="sidebar-link logout">
                    <i class="fas fa-sign-out-alt"></i> Logout
                </button>
            </div>
        </aside>

        <!-- MAIN CONTENT -->
        <main class="admin-main">

            <!-- TOPBAR -->
            <div class="admin-topbar">
                <h1 id="page-title" class="page-title">Dashboard</h1>
                <div class="topbar-actions" id="topbar-actions"></div>
            </div>

            <!-- === DASHBOARD === -->
            <section id="section-dashboard" class="admin-section active">
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon"><i class="fas fa-list"></i></div>
                        <div class="stat-info">
                            <span class="stat-value" id="stat-categories">0</span>
                            <span class="stat-label">Categories</span>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon"><i class="fas fa-mug-hot"></i></div>
                        <div class="stat-info">
                            <span class="stat-value" id="stat-items">0</span>
                            <span class="stat-label">Menu Items</span>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon"><i class="fas fa-image"></i></div>
                        <div class="stat-info">
                            <span class="stat-value" id="stat-gallery">0</span>
                            <span class="stat-label">Gallery Images</span>
                        </div>
                    </div>
                </div>
                <div class="dashboard-info">
                    <div class="info-card">
                        <h3><i class="fas fa-info-circle"></i> About Admin Panel</h3>
                        <p>Changes made here are saved to your <strong>browser's local storage</strong> and reflected
                            immediately on the main site when visited from this device. Use the sidebar to manage your
                            menu and gallery.</p>
                        <div class="info-actions">
                            <button id="export-btn" class="btn-admin-secondary"><i class="fas fa-download"></i> Export
                                Data</button>
                            <button id="reset-btn" class="btn-admin-danger"><i class="fas fa-undo"></i> Reset to
                                Defaults</button>
                        </div>
                    </div>
                </div>
            </section>

            <!-- === MENU MANAGEMENT === -->
            <section id="section-menu" class="admin-section">
                <div class="section-toolbar">
                    <div class="category-tabs" id="category-tabs">
                        <!-- Generated by JS -->
                    </div>
                    <div class="toolbar-right">
                        <button class="btn-admin-secondary" id="add-category-btn">
                            <i class="fas fa-folder-plus"></i> Add Category
                        </button>
                        <button class="btn-admin-primary" id="add-item-btn">
                            <i class="fas fa-plus"></i> Add Item
                        </button>
                    </div>
                </div>
                <div id="menu-items-grid" class="items-grid">
                    <!-- Generated by JS -->
                </div>
            </section>

            <!-- === GALLERY MANAGEMENT === -->
            <section id="section-gallery" class="admin-section">
                <div id="gallery-grid-admin" class="gallery-admin-grid">
                    <!-- Generated by JS -->
                </div>
            </section>

        </main>
    </div>

    <!-- ===== MODALS ===== -->

    <!-- Add/Edit Menu Item Modal -->
    <div id="item-modal" class="modal-overlay hidden">
        <div class="modal">
            <div class="modal-header">
                <h2 id="item-modal-title">Add Menu Item</h2>
                <button class="modal-close" data-close="item-modal"><i class="fas fa-times"></i></button>
            </div>
            <div class="modal-body">
                <input type="hidden" id="item-id">
                <input type="hidden" id="item-category-key">
                <div class="form-group">
                    <label>Item Name *</label>
                    <input type="text" id="item-name" placeholder="e.g. Flat White" class="form-input">
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label>Price *</label>
                        <input type="text" id="item-price" placeholder="e.g. ₹120" class="form-input">
                    </div>
                    <div class="form-group">
                        <label>Tag (optional)</label>
                        <input type="text" id="item-tag" placeholder="e.g. Popular" class="form-input">
                    </div>
                </div>
                <div class="form-group">
                    <label>Description *</label>
                    <textarea id="item-desc" rows="3" placeholder="Brief description of the item..."
                        class="form-input"></textarea>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn-admin-ghost" data-close="item-modal">Cancel</button>
                <button class="btn-admin-primary" id="save-item-btn"><i class="fas fa-save"></i> Save Item</button>
            </div>
        </div>
    </div>

    <!-- Add/Edit Category Modal -->
    <div id="category-modal" class="modal-overlay hidden">
        <div class="modal">
            <div class="modal-header">
                <h2 id="category-modal-title">Add Category</h2>
                <button class="modal-close" data-close="category-modal"><i class="fas fa-times"></i></button>
            </div>
            <div class="modal-body">
                <input type="hidden" id="category-old-name">
                <div class="form-group">
                    <label>Category Name *</label>
                    <input type="text" id="category-name" placeholder="e.g. Cold Brews" class="form-input">
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn-admin-ghost" data-close="category-modal">Cancel</button>
                <button class="btn-admin-primary" id="save-category-btn"><i class="fas fa-save"></i> Save
                    Category</button>
            </div>
        </div>
    </div>

    <!-- Add Gallery Image Modal -->
    <div id="gallery-modal" class="modal-overlay hidden">
        <div class="modal">
            <div class="modal-header">
                <h2>Add Gallery Image</h2>
                <button class="modal-close" data-close="gallery-modal"><i class="fas fa-times"></i></button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label>Image URL *</label>
                    <input type="url" id="gallery-url" placeholder="https://images.unsplash.com/..." class="form-input">
                </div>
                <div class="form-group">
                    <label>Alt Text (description)</label>
                    <input type="text" id="gallery-alt" placeholder="e.g. Cafe interior" class="form-input">
                </div>
                <div id="gallery-preview" class="gallery-preview hidden">
                    <img id="gallery-preview-img" src="" alt="Preview">
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn-admin-ghost" data-close="gallery-modal">Cancel</button>
                <button class="btn-admin-secondary" id="preview-gallery-btn"><i class="fas fa-eye"></i> Preview</button>
                <button class="btn-admin-primary" id="save-gallery-btn"><i class="fas fa-plus"></i> Add Image</button>
            </div>
        </div>
    </div>

    <!-- Confirm Delete Modal -->
    <div id="confirm-modal" class="modal-overlay hidden">
        <div class="modal modal-sm">
            <div class="modal-header">
                <h2><i class="fas fa-exclamation-triangle" style="color:#e74c3c"></i> Confirm Delete</h2>
                <button class="modal-close" data-close="confirm-modal"><i class="fas fa-times"></i></button>
            </div>
            <div class="modal-body">
                <p id="confirm-message">Are you sure you want to delete this item?</p>
            </div>
            <div class="modal-footer">
                <button class="btn-admin-ghost" data-close="confirm-modal">Cancel</button>
                <button class="btn-admin-danger" id="confirm-delete-btn"><i class="fas fa-trash"></i> Delete</button>
            </div>
        </div>
    </div>

    <!-- Toast Notification -->
    <div id="toast" class="toast hidden"></div>

    <script src="js/admin.js"></script>
</body>

</html>